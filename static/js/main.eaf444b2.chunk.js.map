{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","components/Loader/Loader.js","components/Notification/Notification.js","services/imagesApi.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","image","openModal","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","id","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","children","createPortal","Overlay","Button","fetchImages","Loader","color","height","width","timeout","Notification","message","searchQuery","page","apiKey","axios","get","then","response","data","hits","App","loading","error","showModal","imagesApi","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleSearchbarSubmit","query","onOpenImageHandler","url","onCloseImageHandler","prevProps","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.eaf444b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1izjq\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3o4OP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2OATt\",\"Modal\":\"Modal_Modal__2-B5K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2k0d4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__5kbWL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3I4kU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__2kfq8\"};","import React, { Component } from 'react';\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { inputValue: '' };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type='submit' className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type='text'\r\n            autoComplete='off'\r\n            autoFocus\r\n            placeholder='Search images and photos'\r\n            value={this.state.inputValue}\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image, openModal }) {\r\n  const { webformatURL, largeImageURL, tags } = image;\r\n  return (\r\n    <li\r\n      onClick={() => openModal(largeImageURL)}\r\n      className={styles.ImageGalleryItem}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }),\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport styles from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map((image) => (\r\n        <ImageGalleryItem key={image.id} image={image} openModal={openModal} />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      webformatURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    })\r\n  ).isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = (e) => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nexport default function Button({ fetchImages }) {\r\n  return (\r\n    <button type='button' onClick={fetchImages} className={styles.Button}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Spinner from 'react-loader-spinner';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport styles from './Loader.module.css';\r\n\r\nexport default class Loader extends Component {\r\n  render() {\r\n    return (\r\n      <Spinner\r\n        className={styles.Loader}\r\n        type='ThreeDots'\r\n        color='#3f51b5'\r\n        height={80}\r\n        width={80}\r\n        timeout={3000} //3 secs\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Notification(message) {\r\n  return <div>{message}</div>;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst fetchImagesWithQuery = (\r\n  searchQuery,\r\n  page = 1,\r\n  apiKey = '17820994-9f31f9cb0d4f96d74b3464930'\r\n) => {\r\n  return axios\r\n    .get(\r\n      `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`\r\n    )\r\n    .then((response) => response.data.hits);\r\n};\r\n\r\nexport default { fetchImagesWithQuery };\r\n","import React, { Component } from 'react';\nimport styles from './App.module.css';\nimport Searchbar from '../../components/Searchbar/Searchbar';\nimport ImageGallery from '../../components/ImageGallery/ImageGallery';\nimport Modal from '../../components/Modal/Modal';\nimport Button from '../Button/Button';\nimport Loader from '../Loader/Loader';\nimport Notification from '../Notification/Notification';\nimport imagesApi from '../../services/imagesApi';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    error: null,\n    searchQuery: '',\n    page: 1,\n    showModal: false,\n    largeImageURL: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevState.searchQuery;\n    const nextQuery = this.state.searchQuery;\n    if (prevQuery !== nextQuery) {\n      this.fetchImages();\n    }\n  }\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ loading: true });\n    imagesApi\n      .fetchImagesWithQuery(searchQuery, page)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        }))\n      )\n      .catch((error) => this.setState({ error }))\n      .finally(() => {\n        this.setState({ loading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleSearchbarSubmit = (query) => {\n    this.setState({ searchQuery: query, page: 1, images: [] });\n  };\n\n  onOpenImageHandler = (url) => {\n    this.setState({ largeImageURL: url });\n  };\n\n  onCloseImageHandler = () => {\n    this.setState({ largeImageURL: null });\n  };\n\n  render() {\n    const { images, loading, error, largeImageURL, tags } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleSearchbarSubmit} />\n\n        {error && (\n          <Notification\n            message={`Whoops, something went wrong: ${error.message}`}\n          />\n        )}\n        {images.length > 0 && (\n          <ImageGallery images={images} openModal={this.onOpenImageHandler} />\n        )}\n        {loading && <Loader />}\n        {images.length > 0 && !loading && (\n          <Button fetchImages={this.fetchImages} />\n        )}\n\n        {largeImageURL && (\n          <Modal onClose={this.onCloseImageHandler}>\n            <img src={largeImageURL} alt={tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1zZcJ\",\"SearchForm\":\"Searchbar_SearchForm__1qIQZ\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2Vv7h\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1gyp6\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1u5b2\"};"],"sourceRoot":""}